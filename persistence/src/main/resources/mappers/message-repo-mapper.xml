<?xml version="1.0"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.sdoroshenko.persistence.MessageRepository">
    <resultMap id="messageMap" type="org.sdoroshenko.model.Message">
        <id property="id" column="message_id" javaType="java.lang.Long"/>
        <result property="payload" column="message_payload" javaType="java.lang.String"/>
    </resultMap>

    <select id="getAllMessages" resultMap="messageMap">
        select id as message_id, payload as message_payload from messages;
    </select>
</mapper>